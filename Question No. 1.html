<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // Do the below programs in anonymous function and IIFE

        // Q 1. Print odd numbers from array
        let arr1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]; 
        let oddnum = function(arr1) // anonymous function
                {
                    for(let n=0; n<10; n++)
                        {
                            if((arr1[n]%2)!=0)
                                {
                                    console.log(arr1[n]);
                                }
                        }
                }
        oddnum([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])

        (
            function(oddnum) // IIFE function
                {
                    for(let n=0; n<10; n++)
                        {
                            if((arr1[n]%2)!=0)
                                {
                                    console.log(arr1[n]);
                                }
                        }
                
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
        



        // Q 2. Convert all the strings to title caps in a string array
        let arr2 = ["adyar", "alandur", "ayanavaram", "mannivakkam", "mudichur"];

        let titlecaps = function(arr2) // anonymous function
                {
                    for(let n=0; n<5; n++)
                        {
                            let result1 = arr2[n].charAt(0).toUpperCase() + arr2[n].slice(1);
                            console.log(result1);
                        }
                }
        titlecaps(["adyar", "alandur", "ayanavaram", "mannivakkam", "mudichur"]);

        (
            function(arr2) // IIFE function
                {
                    for(let n=0; n<5; n++)
                        {
                            let result1 = arr2[n].charAt(0).toUpperCase() + arr2[n].slice(1);
                            console.log(result1);
                        }
                }
        )(["adyar", "alandur", "ayanavaram", "mannivakkam", "mudichur"]);



        // Q 3. Sum of all numbers in an array
        // let arr3 = [10, 20, 30, 40, 50];
        let numsum = function(arr3) // anonymous function
                {
                    let result3 = arr3.reduce((xx, element) => xx+element);
                    console.log(result3);
                }
        numsum([10, 20, 30, 40, 50]);

        (
            function(arr3) // IIFE function
                {
                    let result3 = arr3.reduce((xx, element) => xx+element);
                    console.log(result3);
                }
        )([10, 20, 30, 40, 50]);



        // Q 4. Return all the prime numbers in an array
        let num = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
        let result=[];
        let primenum = function(num) // anonymous function
                {
                    if(num < 2)
                        {
                            return false;
                        }
                    for (let k = 2; k < num; k++)
                        {
                            if(num % k == 0)
                                {
                                    return false;
                                }   
                        }
                    return true;
                }
        num.forEach(function (element)
            {
            const item = primenum(element);
                if(item)
                    {
                        result.push(element);
                    }
                });
        console.log(result);

        (
            function(arr4) // IIFE function
                {
                    let primeno = [];
                    
                    for(n=0; n<arr4.length; n++)
                        {
                            if(arr4[n]>1 && arr4[n]<=3)
                                {
                                    primeno.push(arr4[n]);
                                }

                            else if(arr4[n]>3)
                                {
                                    for(j=2; j<arr4[n]; j++)
                                        {
                                            if((arr4[n]%j)==0)
                                                {
                                                    break;
                                                }

                                            else
                                                {
                                                    primeno.push(arr4[n]);
                                                    break;
                                                }
                                        }
                                }
                        }
                console.log(primeno);
                }
        )([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);


        // Q 5. Return all the palindrome in an array
        var main_array = [123,121,"rohit","rotor","jjmcoe","madam",111];  

        var  palindrome = function(array)
            {
                var pali_arr = [];
                array.forEach(element => 
                    {
                        if(typeof(element)==typeof(1))
                            {
                                var rem, temp, final = 0;
		                        temp = element;
                                while(element>0)
                                    {
                                        rem = element%10;
			                            element = parseInt(element/10);
			                            final = final*10+rem;
            
                                    }
                                if(temp==final)
                                    {
                                        pali_arr.push(final);
                                    }
                            }
                        else
                            {
                                if(element==element.split("").reverse().join(""))
                                    {
                                        pali_arr.push(element);
                                    }
                            }
                    } 
                );
    console.log(`array of palindrom:- ${pali_arr}`)
            };
            palindrome(main_array);

            (function(array) // IIFE Function
                {
                    var pali_arr = [];
                    array.forEach(element => 
                        {
                            if(typeof(element)==typeof(1))
                                {
                                    var rem, temp, final = 0;
                                    temp = element;
                                    while(element>0)
                                        {
                                            rem = element%10;
                                            element = parseInt(element/10);
                                            final = final*10+rem;
                                        }
                                    if(temp==final)
                                        {
                                            pali_arr.push(final);
                                        }
                                }
                            else
                                {
                                    if(element==element.split("").reverse().join(""))
                                        {
                                            pali_arr.push(element);
                                        }
                                }
                        } 
                    );
            console.log(`array of palindrom:- ${pali_arr}`)
            }
            )(main_array);



        // Q 6. Return median of two sorted arrays of the same size
        let getMedian = function(ar1, ar2, n) // anonymous function
            {
                var i = 0; 
                var j = 0;
                var count;
                var m1 = -1, m2 = -1;

                for (count = 0; count <= n; count++)
                    {
                        if (i == n)
                            {
                                m1 = m2;
                                m2 = ar2[0];
                                break;
                            }
 
                        else if (j == n)
                            {
                                m1 = m2;
                                m2 = ar1[0];
                                break;
                            }
     
                        if (ar1[i] <= ar2[j])
                            {
                                m1 = m2; 
                                m2 = ar1[i];
                                i++;
                            }
                        else
                            {
                                m1 = m2; 
                                m2 = ar2[j];
                                j++;
                            }
                    }
 
                    return (m1 + m2)/2;
            }
 
            var ar1 = [10,20,30,40,50];
            var ar2 = [60,70,80,90,100]; 
            var n1 = ar1.length;
            var n2 = ar2.length;

            if (n1 == n2)
                {
                    console.log("Median is "+ getMedian(ar1, ar2, n1));
                }
            else
                {
                    console.log("Doesn't work for arrays of unequal size");
                }

        var arr1 = [11,13,5,7,9,1,3,15,17,19];
        var arr6 = [12,4,6,8,10,2,14,16,18,20];
        (function(arr_1,arr_2) // IIFE function
            {
                var  merge = [];
                if(arr_1.length==arr_2.length)
                    {
                        for(var i=0;i<arr_1.length;i++)
                            {
                                merge.push(arr_1[i]);
                                merge.push(arr_2[i]);
                            }
                    }
                else
                    {
                        console.log("Median Array Is Not Possible for arrays of unequal size")
                    }
                var sort_merge = merge.sort((a,b)=>a-b)
                var median_No = (sort_merge[arr_1.length]+sort_merge[arr2.length+1])/2;
                console.log(median_No)
            }
        )(arr1,arr6);
        




        // Q 7. Remove duplicates from an array
        let removeDuplicates = function(arr, n) // anonymous function
            {
                if (n==0 || n==1)
                    {
                        return n;
                    }
                var temp = new Array(n);
                var j = 0;
                for (var i=0; i<n-1; i++)
                    {
                        if (arr[i] != arr[i+1])
                            {
                                temp[j++] = arr[i];
                            }
                    }
                temp[j++] = arr[n-1];
                for (var i=0; i<j; i++)
                    {
                        arr[i] = temp[i];
                    }
                return j;
            }
        var arr = [1, 2, 2, 3, 4, 4, 4, 5, 5];
        var n = arr.length;
        n = removeDuplicates(arr, n);
        for (var i=0; i<n; i++)
        {
            console.log( arr[i]+" ");
        }

        (
            function(arr, n)
                {
                    if (n==0 || n==1)
                    {
                        return n;
                    }
                    var temp = new Array(n);
                    var j = 0;
                    for (var i=0; i<n-1; i++)
                        {
                            if(arr[i] != arr[i+1])
                                {
                                    temp[j++] = arr[i];
                                }
                    }   
                    temp[j++] = arr[n-1];
                    for (var i=0; i<j; i++)
                        {
                            arr[i] = temp[i];
                        }
                    return j;
                
                }
        )(arr=[1, 2, 2, 3, 4, 4, 4, 5, 5], n=arr.length);
        for (var i=0; i<n; i++)
        {
            console.log( arr[i]+" ");
        }
        

        // h. Rotate an array by k times
        let RightRotate = function(a, n, k) // anonymous function
            { 
                k = k % n;
                for(let i = 0; i < n; i++)
                    {
                        if(i < k)
                            {
                                console.log(a[n + i - k] + " ");
                            }
                        else
                            {
                                console.log((a[i - k]) + " ");
                            }
                    }
                console.log("");
            }
        let Array = [1, 2, 3, 4, 5];
        let N = Array.length;
        let K = 2;
        RightRotate(Array, N, K);

        var Arr = [1,2,3,4,5,6,7,8,9,10];
        (function(array, K)  // IIFE function
            {
                K = K % array.length;
                if(array.length < 2 || K === 0)
                    {
                        return array;
                    }
               var part = array.splice(array.length - K);
               console.log(part.concat(array));
      })(Arr,3);

    </script>
</body>
</html>